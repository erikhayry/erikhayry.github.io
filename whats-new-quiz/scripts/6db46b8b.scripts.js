"use strict";angular.module("whatsNewQuizApp",["ngRoute"]).config(["$routeProvider","$locationProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"GameCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("whatsNewQuizApp").controller("GameCtrl",["$scope","$timeout","$location","$window","gameFactory",function(a,b,c,d,e){function f(){return Math.random()<.5?e.getRandomDesigner(a.products[0].manufacturer,m.designers):a.products[0].manufacturer}function g(){d.ga("send","event","gameActions","start new round"),a.isGameOver=!1,a.lives=[1,2,3],b(function(){a.result=""},1e3),l=0,m=e.buildGame(a.products);for(var c=0;5>c;c++)m.products[l+c]&&(a.products[c]=m.products[l+c]);a.question=f(),a.score=l,a.total=m.products.length}function h(){b(function(){a.result=""},1500),l++,a.score=l,a.products.splice(0,1),l<a.total?(m.products[l+5]&&a.products.push(m.products[l+5]),a.question=f()):k()}function i(){return a.result="right",h(),!0}function j(){return a.result="wrong",a.lives.splice(0,1),0==a.lives.length?(d.ga("send","event","gameActions","game over","",a.score),b(function(){a.isGameOver=!0},1500),!1):void h()}function k(){d.ga("send","event","gameActions","success"),a.result=""}var l,m=[];a.showHelp=!1,a.isGameOver=!1,a.products=[],a.lives=[1,2,3],g(),a.checkAnswer=function(a,b,c){return a===b===c?i():j()},a.restart=function(){g()},a.htmlEncode=function(a){return String(a).replace("&amp;","&").replace("&quot;",'"').replace("&#39;","'")},a.toggleHelp=function(){a.showHelp=!a.showHelp},a.pluralize=function(a){return 1==a?"point":"points"},a.getUrl=function(){return c.absUrl()},a.getClass=function(b){switch(b){case"help":return a.showHelp?"is-visible":"is-hidden";case"result":return"is-"+a.result}},a.getText=function(b){switch(b){case"help":return a.showHelp?"x":"?";case"result":return"right"===a.result?String.fromCharCode(10004):"x"}}}]),angular.module("whatsNewQuizApp").factory("productFactory",function(){var a={id:"2",products:[{id:"457213",title:"Metropolis ruthenium-plated ring",manufacturer:"Yunus & Eliza"},{id:"446723",title:"Printed stretch-cotton shirt dress",manufacturer:"Oscar de la Renta"},{id:"433215",title:"Small Obsedia bag in black leather",manufacturer:"Givenchy"},{id:"446718",title:"Silk-satin maxi skirt",manufacturer:"Oscar de la Renta"},{id:"446412",title:"Eye Want You Perspex clutch",manufacturer:"Charlotte Olympia"},{id:"456724",title:"Cropped cady straight-leg pants",manufacturer:"Chloé"},{id:"446409",title:"Whisper embroidered crepe de chine clutch",manufacturer:"Charlotte Olympia"},{id:"446722",title:"Embroidered silk-organza top",manufacturer:"Oscar de la Renta"},{id:"453824",title:"Jewel-print iPhone 5 cover",manufacturer:"Markus Lupfer"},{id:"456753",title:"Iconic cady shorts",manufacturer:"Chloé"},{id:"454237",title:"Glam Madame 18-karat gold, diamond and ruby ring",manufacturer:"Holly Dyment"},{id:"443832",title:"Cotton-muslin shirt",manufacturer:"Helmut Lang"},{id:"458857",title:"Original Achilles leather sneakers",manufacturer:"Common Projects"},{id:"446719",title:"Silk-blend lamé wide-leg pants",manufacturer:"Oscar de la Renta"},{id:"440534",title:"Chevron Tassel gold-plated multi-stone necklace",manufacturer:"J.Crew"},{id:"444348",title:"Caterina metallic woven hat",manufacturer:"Eugenia Kim"},{id:"454244",title:"Lady Skull 18-karat gold multi stone necklace",manufacturer:"Holly Dyment"},{id:"453075",title:"Darcey gold-tone faux pearl ring",manufacturer:"Chloé"},{id:"470426",title:"22-karat gold quartz earrings",manufacturer:"Marie-Hélène de Taillac"},{id:"457211",title:"Empire gold-plated ring",manufacturer:"Yunus & Eliza"},{id:"445236",title:"Octavia Swarovski crystal-embellished suede sandals",manufacturer:"Charlotte Olympia"},{id:"453793",title:"Elsie medium textured-leather shoulder bag",manufacturer:"Chloé"},{id:"423714",title:"Annie printed silk maxi dress",manufacturer:"Diane von Furstenberg"},{id:"477365",title:"Set of three rose gold-plated rings",manufacturer:"Maria Black"},{id:"443546",title:"Printed crepe maxi dress",manufacturer:"Tibi"},{id:"479041",title:"18-karat gold, diamond and aquamarine ring",manufacturer:"Fernando Jorge"},{id:"441887",title:"Bridgette crocheted cotton-lace dress",manufacturer:"Miguelina"},{id:"457212",title:"Britannia gold-plated ring",manufacturer:"Yunus & Eliza"},{id:"444193",title:"Printed silk dress",manufacturer:"Tibi"},{id:"479459",title:"Caftan Moon gold-plated resin cuff",manufacturer:"Aurélie Bidermann"},{id:"438021",title:"Printed stretch-modal coverup",manufacturer:"Mara Hoffman"},{id:"445224",title:"Miami striped leather ballet flats",manufacturer:"Sophia Webster"},{id:"438019",title:"Cutout printed swimsuit",manufacturer:"Mara Hoffman"},{id:"440540",title:"Chevron Tassel gold-plated, Czech stone and jade earrings",manufacturer:"J.Crew"},{id:"438020",title:"Printed stretch-modal jumpsuit",manufacturer:"Mara Hoffman"},{id:"459555",title:"Panama textured-leather cosmetics case",manufacturer:"Smythson"},{id:"452999",title:"Asymmetric wool sweater mini dress",manufacturer:"Alexander McQueen"},{id:"438018",title:"Basketweave-detailed printed bikini",manufacturer:"Mara Hoffman"},{id:"435052",title:"Chain-embellished stretch-jersey maxi dress",manufacturer:"MICHAEL Michael Kors"},{id:"438016",title:"Printed bikini",manufacturer:"Mara Hoffman"},{id:"454919",title:"Le High Skinny Crop mid-rise jeans",manufacturer:"Frame Denim"},{id:"438017",title:"Printed rash guard",manufacturer:"Mara Hoffman"},{id:"439629",title:"Taxa draped stretch-jersey dress",manufacturer:"Vivienne Westwood Anglomania"},{id:"454240",title:"Green Eye 18-karat gold diamond and tsavorite ring",manufacturer:"Holly Dyment"},{id:"453002",title:"Crepe pencil skirt",manufacturer:"Alexander McQueen"},{id:"459537",title:"Manuscript textured-leather notebook",manufacturer:"Smythson"},{id:"443545",title:"Open-back silk crepe de chine jumpsuit",manufacturer:"Tibi"},{id:"479037",title:"18-karat gold, diamond and serpentine earrings",manufacturer:"Fernando Jorge"},{id:"443051",title:"Striped cotton-jersey dress",manufacturer:"DKNY"},{id:"441885",title:"Leslie crocheted cotton-lace maxi dress",manufacturer:"Miguelina"},{id:"440738",title:"Classic Racer honeycomb stretch-mesh sweatshirt",manufacturer:"Rag & bone"},{id:"470432",title:"22-karat gold amethyst and tourmaline ring",manufacturer:"Marie-Hélène de Taillac"},{id:"440508",title:"Vermont washed-silk hooded top",manufacturer:"Equipment"},{id:"470431",title:"Clover 18-karat gold amethyst bracelet",manufacturer:"Marie-Hélène de Taillac"},{id:"458206",title:"Picasso striped cashmere sweater",manufacturer:"The Elder Statesman"},{id:"433407",title:"Chuck Taylor All Star eyelet-canvas sneakers",manufacturer:"Converse"},{id:"439016",title:"Shirt Hem cashmere sweater",manufacturer:"Chinti and Parker"},{id:"430917",title:"Gossamer-sleeve cotton sweater",manufacturer:"J.Crew"},{id:"442807",title:"Lillyanne embellished open-back silk-twill dress",manufacturer:"Alice + Olivia"},{id:"439624",title:"Pavillion cutout cotton dress",manufacturer:"Vivienne Westwood Anglomania"},{id:"454038",title:"Buckled leather biker boots",manufacturer:"Alexander McQueen"},{id:"431836",title:"Ophelia crocheted lace kimono jacket",manufacturer:"Anna Sui"},{id:"454118",title:"The Marcie mini textured-leather shoulder bag",manufacturer:"Chloé"},{id:"440495",title:"Cameron washed-silk top",manufacturer:"Equipment"},{id:"435028",title:"Alva printed voile tunic",manufacturer:"DAY Birger et Mikkelsen"},{id:"442669",title:"Nandrea broderie anglaise cotton shorts",manufacturer:"Theory"},{id:"440511",title:"Lewis leopard-print washed-silk shorts",manufacturer:"Equipment"},{id:"424048",title:"Silk crepe de chine camisole",manufacturer:"Tibi"},{id:"440505",title:"Aubrey leopard-print washed-silk mini dress",manufacturer:"Equipment"},{id:"435225",title:"Zoe gathered stretch-poplin mini dress",manufacturer:"Diane von Furstenberg"},{id:"456278",title:"Padlock small leather tote",manufacturer:"Alexander McQueen"},{id:"440504",title:"Cory linen shirt",manufacturer:"Equipment"},{id:"423722",title:"Marny printed cotton and silk maxi skirt",manufacturer:"Diane von Furstenberg"},{id:"435226",title:"Andrea embroidered cotton and silk-blend top",manufacturer:"Diane von Furstenberg"},{id:"435224",title:"Fleurette printed silk-chiffon dress",manufacturer:"Diane von Furstenberg"},{id:"443531",title:"Ramsay stretch-twill blazer",manufacturer:"Elizabeth and James"},{id:"485106",title:"Fiji rose gold-plated bracelet",manufacturer:"Monica Vinader"},{id:"439630",title:"Voyage draped ribbed-knit cardigan",manufacturer:"Vivienne Westwood Anglomania"},{id:"423715",title:"Lilac printed silk-habotai dress",manufacturer:"Diane von Furstenberg"},{id:"439015",title:"Shirt Hem cashmere sweater",manufacturer:"Chinti and Parker"},{id:"439017",title:"Stripe Sailor organic cotton top",manufacturer:"Chinti and Parker"},{id:"440020",title:"Shell trench coat",manufacturer:"Burberry Brit"},{id:"439627",title:"Flake draped stretch-jersey top",manufacturer:"Vivienne Westwood Anglomania"},{id:"435055",title:"Java printed silk wide-leg pants",manufacturer:"MICHAEL Michael Kors"},{id:"465578",title:"Oversized cashmere sweater",manufacturer:"The Elder Statesman"},{id:"423717",title:"Bryn printed silk-chiffon blouse",manufacturer:"Diane von Furstenberg"},{id:"438584",title:"Rebecca cotton-blend gabardine trench coat",manufacturer:"A.P.C. Atelier de Production et de Création"},{id:"429970",title:"Selma large textured-leather tote",manufacturer:"MICHAEL Michael Kors"},{id:"439616",title:"Whisper cropped twill blazer",manufacturer:"Vivienne Westwood Anglomania"},{id:"443937",title:"Jordan neon-embroidered cotton-gauze scarf",manufacturer:"J.Crew"},{id:"441883",title:"Rachel crocheted cotton-lace kaftan",manufacturer:"Miguelina"},{id:"429669",title:"Blueberry Muffin printed silk-chiffon and mesh thong",manufacturer:"Mimi Holliday by Damaris"},{id:"441886",title:"Kristen crocheted cotton-lace coverup",manufacturer:"Miguelina"},{id:"434809",title:"Muse high-waisted satin and lace corset briefs",manufacturer:"Kiki de Montparnasse"},{id:"441881",title:"Dahlia crocheted cotton-lace dress",manufacturer:"Miguelina"},{id:"429734",title:"Tulle-paneled organic pima cotton robe",manufacturer:"Skin"},{id:"429732",title:"Tulle-paneled organic pima cotton tank",manufacturer:"Skin"},{id:"465470",title:"Shaping bodysuit",manufacturer:"Spanx"},{id:"465462",title:"Trust Your Thinstincts high-rise shorts",manufacturer:"Spanx"},{id:"429733",title:"Tulle-paneled organic pima cotton shorts",manufacturer:"Skin"},{id:"465469",title:"Shaping bodysuit",manufacturer:"Spanx"},{id:"465463",title:"Trust Your Thinstincts high-rise shorts",manufacturer:"Spanx"},{id:"465466",title:"Tight-End shaping tights",manufacturer:"Spanx"},{id:"465465",title:"In-Power Line Super Shaping Sheers tights",manufacturer:"Spanx"},{id:"465464",title:"In-Power Line Super Shaping Sheers tights",manufacturer:"Spanx"},{id:"446978",title:"Nº 2 Blush/Foundation Brush ",manufacturer:"Hourglass"},{id:"477460",title:"Phormula 3-9 Eye Repair, 15ml",manufacturer:"Erno Laszlo"},{id:"446410",title:"Flirty embroidered crepe de chine clutch",manufacturer:"Charlotte Olympia"},{id:"431404",title:"Bambi silk-satin sweatshirt",manufacturer:"Givenchy"},{id:"429929",title:"Leather and PVC sandals",manufacturer:"Fendi"},{id:"456764",title:"Ruffled cady mini dress",manufacturer:"Chloé"},{id:"446414",title:"Kiss Purse suede shoulder bag",manufacturer:"Charlotte Olympia"},{id:"456752",title:"Iconic crepe straight-leg pants",manufacturer:"Chloé"},{id:"455254",title:"14-karat gold earrings ",manufacturer:"Melissa Joy Manning"},{id:"440695",title:"Wool-blend felt coat",manufacturer:"MM6 Maison Martin Margiela"},{id:"450079",title:"18-karat rose gold diamond double eternity ring",manufacturer:"Anita Ko"},{id:"440498",title:"Aubrey washed-silk mini dress",manufacturer:"Equipment"},{id:"483443",title:"Leather sandals",manufacturer:"Pierre Hardy"},{id:"443056",title:"Oversized organza bomber jacket",manufacturer:"DKNY"},{id:"455253",title:"Blackened sterling silver diamond necklace",manufacturer:"Melissa Joy Manning"},{id:"431403",title:"Leather-trimmed jersey gown with cutouts",manufacturer:"Givenchy"},{id:"430367",title:"Easy belt in black leather",manufacturer:"Givenchy"},{id:"443053",title:"Color-block stretch-silk midi dress",manufacturer:"DKNY"},{id:"483444",title:"Leather-trimmed color-block canvas wedge sandals",manufacturer:"Pierre Hardy"},{id:"443049",title:"Wrap-effect stretch-georgette maxi dress",manufacturer:"DKNY"},{id:"462965",title:"Star 18-karat gold and sterling silver bracelet",manufacturer:"Ann Dexter Jones"},{id:"445185",title:"Floral metallic fil coupé dress",manufacturer:"Lela Rose"},{id:"444387",title:"Leather-trimmed suede and mesh pumps",manufacturer:"Chloé"},{id:"442676",title:"Malyn cotton-eyelet top",manufacturer:"Theory"},{id:"458858",title:"Suede ankle boots",manufacturer:"Common Projects"},{id:"443530",title:"Maylie layered silk-crepe dress",manufacturer:"Elizabeth and James"},{id:"450073",title:"18-karat rose gold diamond earrings",manufacturer:"Anita Ko"},{id:"440501",title:"Signature leopard-print washed-silk shirt",manufacturer:"Equipment"},{id:"458856",title:"Tournament leather sneakers",manufacturer:"Common Projects"},{id:"483440",title:"Leather-trimmed color-block denim wedge sandals",manufacturer:"Pierre Hardy"},{id:"435228",title:"Jessa cotton and silk-blend jacquard top",manufacturer:"Diane von Furstenberg"},{id:"446418",title:"Glance Alot embroidered satin pouch",manufacturer:"Charlotte Olympia"},{id:"443533",title:"Carine plaid voile shirt",manufacturer:"Elizabeth and James"},{id:"430362",title:"Rottweiler-print iPhone 5 cover",manufacturer:"Givenchy"},{id:"454922",title:"Le Garçon stretch-denim overalls",manufacturer:"Frame Denim"},{id:"462966",title:"Sterling silver, lapis lazuli and sapphire ID bracelet",manufacturer:"Ann Dexter Jones"},{id:"473916",title:"Le Garçon mid-rise slim boyfriend jeans",manufacturer:"Frame Denim"},{id:"483442",title:"Leather-trimmed printed canvas high-top sneakers",manufacturer:"Pierre Hardy"},{id:"457776",title:"Aix embroidered cotton scarf",manufacturer:"Rose & Rose"},{id:"454290",title:"Amazona small denim-effect suede tote",manufacturer:"Loewe"},{id:"462967",title:"Sterling silver and 18-karat gold ID bracelet",manufacturer:"Ann Dexter Jones"},{id:"476705",title:"Set of two travel guides: The New York Times 36 Hours In Latin America & The Caribbean and Asia & Oceania",manufacturer:"Taschen"},{id:"440502",title:"Cameron washed-silk top",manufacturer:"Equipment"},{id:"483439",title:"Leather and canvas wedge sandals",manufacturer:"Pierre Hardy"},{id:"439615",title:"Imperial woven crepe coat",manufacturer:"Vivienne Westwood Anglomania"},{id:"457362",title:"St Paul striped cotton-blend scarf",manufacturer:"Rose & Rose"},{id:"460676",title:"Low-rise skinny jeans",manufacturer:"R13"},{id:"483445",title:"Two-tone canvas wedge sandals",manufacturer:"Pierre Hardy"},{id:"477219",title:"Bradshaw rose gold-tone stainless steel and acetate chronograph watch",manufacturer:"Michael Kors"},{id:"460574",title:"Round-frame metal and acetate mirrored sunglasses",manufacturer:"Marc by Marc Jacobs"},{id:"443058",title:"Leather-trimmed ponte leggings",manufacturer:"DKNY"},{id:"445231",title:"Angry Portia suede and studded leather platform pumps",manufacturer:"Charlotte Olympia"},{id:"443054",title:"Convertible leather and stretch-tech jersey biker jacket",manufacturer:"DKNY"},{id:"473186",title:"Dada Drop gold-plated crystal earrings",manufacturer:"Lulu Frost"},{id:"440510",title:"Lewis washed-silk shorts",manufacturer:"Equipment"},{id:"445233",title:"Debbie lace pumps",manufacturer:"Charlotte Olympia"},{id:"483447",title:"Two-tone leather wedge boots",manufacturer:"Pierre Hardy"},{id:"477218",title:"Channing's rose gold-tone stainless steel watch",manufacturer:"Michael Kors"},{id:"456281",title:"Padlock textured-leather tote",manufacturer:"Alexander McQueen"},{id:"457361",title:"Aix embroidered cotton scarf",manufacturer:"Rose & Rose"},{id:"443825",title:"Gala stretch-twill blazer",manufacturer:"Helmut Lang"},{id:"483441",title:"Two-tone leather pumps",manufacturer:"Pierre Hardy"},{id:"423713",title:"Carpreena floral-jacquard dress",manufacturer:"Diane von Furstenberg"},{id:"462964",title:"Midnight Hour sterling silver, 18-karat gold, onyx and sapphire bracelet",manufacturer:"Ann Dexter Jones"},{id:"435227",title:"Vera printed silk-habotai shirt dress",manufacturer:"Diane von Furstenberg"},{id:"445242",title:"Isadora crystal-embellished suede and mesh sandals",manufacturer:"Charlotte Olympia"},{id:"423720",title:"Naples jacquard shorts",manufacturer:"Diane von Furstenberg"},{id:"484990",title:"Fiji rose gold-plated bracelet",manufacturer:"Monica Vinader"},{id:"435229",title:"New Hanky printed silk blouse",manufacturer:"Diane von Furstenberg"},{id:"445234",title:"Minx leather pumps",manufacturer:"Charlotte Olympia"},{id:"440520",title:"Slim Signature washed-silk top",manufacturer:"Equipment"},{id:"450076",title:"Leaf 18-karat gold diamond bracelet ",manufacturer:"Anita Ko"},{id:"439621",title:"Square Mile draped crepe playsuit",manufacturer:"Vivienne Westwood Anglomania"},{id:"436431",title:"Cat eye rose gold-plated and acetate sunglasses",manufacturer:"Linda Farrow"},{id:"440506",title:"Cameron washed-silk top",manufacturer:"Equipment"},{id:"483446",title:"Two-tone suede pumps",manufacturer:"Pierre Hardy"},{id:"439628",title:"Christo draped stretch-jersey dress",manufacturer:"Vivienne Westwood Anglomania"},{id:"445229",title:"Capri Cats leopard-print calf hair espadrille flats",manufacturer:"Charlotte Olympia"},{id:"460675",title:"Low-rise skinny jeans",manufacturer:"R13"},{id:"443789",title:"Haze reversible triangle bikini",manufacturer:"Zimmermann"},{id:"481053",title:"Sumatra zipped bandeau bikini",manufacturer:"Melissa Odabash"},{id:"443777",title:"Writer animal-print cutout swimsuit",manufacturer:"Zimmermann"},{id:"443784",title:"Sundown animal-print crepe maxi dress",manufacturer:"Zimmermann"},{id:"443931",title:"Aymara neon crocheted and silk-crepe kaftan",manufacturer:"Emamó"},{id:"443942",title:"Kahala crossover string bikini top",manufacturer:"Mikoh"},{id:"443783",title:"Sundown Curve bikini",manufacturer:"Zimmermann"},{id:"443935",title:"Embellished embroidered triangle bikini",manufacturer:"Emamó"},{id:"443943",title:"Miyako bikini briefs",manufacturer:"Mikoh"},{id:"443787",title:"Haze cropped embroidered silk-georgette top",manufacturer:"Zimmermann"},{id:"443788",title:"Haze embroidered silk-georgette shorts",manufacturer:"Zimmermann"},{id:"481052",title:"Antibes ruched swimsuit",manufacturer:"Melissa Odabash"},{id:"481051",title:"Jamie macramé lace maxi dress",manufacturer:"Melissa Odabash"},{id:"413711",title:"Lacy silk-satin and lace balconette bra",manufacturer:"Agent Provocateur"},{id:"422550",title:"Petite Batik printed stretch-jersey pajama set ",manufacturer:"Eberjey"},{id:"422555",title:"Bleached Out jersey playsuit",manufacturer:"Eberjey"},{id:"413712",title:"Lacy stretch-tulle and lace thong",manufacturer:"Agent Provocateur"},{id:"468913",title:"Altitude Oil, 10ml",manufacturer:"de Mamiel"},{id:"468915",title:"Spring Facial Oil, 20ml",manufacturer:"de Mamiel"},{id:"468917",title:"Dewy Facial Mist, 100ml",manufacturer:"de Mamiel"},{id:"468914",title:"Salvation Body Oil, 200ml",manufacturer:"de Mamiel"},{id:"468918",title:"Brightening Cleanse & Exfoliate, 100g",manufacturer:"de Mamiel"}]};return{getProducts:function(){return a}}}),angular.module("whatsNewQuizApp").factory("gameFactory",["productFactory",function(a){function b(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function c(a,b){return Math.floor(Math.random()*(b-a+1))+a}function d(a){var b=[];return a.forEach(function(a){-1===b.indexOf(a.manufacturer)&&b.push(a.manufacturer)}),b}function e(a,c){var e=(c.slice(0),{designers:d(c),products:b(c)});return e}return{buildGame:function(b){return e(b,a.getProducts().products)},getRandomDesigner:function(a,b){for(var d=a;a===d;)d=b[c(0,b.length-1)];return d}}}]),angular.module("whatsNewQuizApp").directive("wnqDraggable",["$document","$window",function(){return navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,{restrict:"E",scope:{product:"=",result:"=",hasTouch:"=",leftAfter:"&wnqDraggableLeftAfter",rightAfter:"&wnqDraggableRightAfter"},replace:!0,template:'<div class="m-image"><img/><button ng-click="rightAfter()" ng-show="!result" class="m-image-true">&#10004</button><button ng-click="leftAfter()" ng-show="!result" class="m-image-false">x</button></div>',link:function(a,b){function c(a){k={x:a.changedTouches[0].pageX}}function d(b){if(b.preventDefault(),!a.result){var c=b.changedTouches[0].pageX-k.x;h&&i&&(0>c?(h.style.opacity=Math.abs(.01*c),h.style.marginLeft=Math.abs(.5*c)+"px",i.style.opacity=0,i.style.marginRight=0):c>0&&(i.style.opacity=Math.abs(.01*c),i.style.marginRight=Math.abs(.5*c)+"px",h.style.opacity=0,h.style.marginLeft=0)),this.style.left=c+"px"}}function e(b){if(!a.result){var c=b.changedTouches[0].pageX-k.x,d=100,e=!0;c>d?a.$apply(function(){e=a.rightAfter()}):-d>c&&a.$apply(function(){e=a.leftAfter()}),e||navigator.vibrate&&navigator.vibrate(500),this.style.left=0,i&&h&&(i.style.opacity=0,h.style.opacity=0,i.style.marginRight=0,h.style.marginLeft=0)}}var f=new Image,g=b[0].querySelectorAll("img")[0],h=b[0].querySelectorAll(".m-image-false")[0],i=b[0].querySelectorAll(".m-image-true")[0],j="http://cache.net-a-porter.com/images/products/"+a.product+"/"+a.product;f.onload=function(){g.src=j+"_e1_xl.jpg"},f.onerror=function(){g.src=j+"_in_xl.jpg"},f.src=j+"_e1_xl.jpg";var k=null;g.addEventListener("touchstart",c),g.addEventListener("touchmove",d),g.addEventListener("touchend",e)}}}]),angular.module("whatsNewQuizApp").directive("wngDetect",["$rootScope",function(a){return{restrict:"A",link:function(b,c){"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0?(c[0].classList.add("has-touch"),a.hasTouch=!0):a.hasTouch=!1}}}]),angular.module("whatsNewQuizApp").directive("twitter",[function(){return{link:function(a,b,c){setTimeout(function(){twttr.widgets.createShareButton(document.URL,b[0],function(){},{count:"none",text:c.text})})}}}]);